{% extends "../graph-layout.njk" %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% set graphPageId = "behaviour-entries" %}
{% set graphTitle = "Behaviour entries in the last 28 days" %}
{% set pageTitle = applicationName + " â€“ " + graphTitle %}

{% block content %}
  {{ super() }}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {% include "../../../partials/messages.njk" %}

      {% set errorSummary = formsWithErrors["entries-by-location"].errorSummary | default(formsWithErrors["prisoners-with-entries-by-location"].errorSummary) %}
      {% if errorSummary.length %}
        {{ govukErrorSummary({
          titleText: "There is a problem",
          errorList: errorSummary
        }) }}
      {% endif %}

      <h1 class="govuk-heading-xl">
        {{ graphTitle }}
      </h1>

    </div>
  </div>

  <div class="govuk-grid-row">
    <section class="govuk-grid-column-one-half govuk-!-margin-bottom-9">

      {% set graphId = "entries-by-location" %}
      {% set report = behaviourEntries %}
      {% include "./entries-by-location.njk" %}

    </section>
    <section class="govuk-grid-column-one-half govuk-!-margin-bottom-9">

      {% set graphId = "prisoners-with-entries-by-location" %}
      {% set report = prisonersWithEntries %}
      {% include "./prisoners-with-entries-by-location.njk" %}

    </section>
  </div>
{% endblock %}
