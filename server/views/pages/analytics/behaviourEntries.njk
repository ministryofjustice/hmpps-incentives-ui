{% extends "../../partials/analytics/layout.njk" %}

{% from "../../partials/analytics/chartBehaviourEntries.njk" import chartBehaviourEntries %}
{% from "../../partials/analytics/chartPrisonersWithBehaviourEntries.njk" import chartPrisonersWithBehaviourEntries %}
{% from "../../partials/analytics/chartTrends.njk" import chartTrends %}

{% set chartPageId = "behaviour-entries" %}
{% set chartPageTitle = "Behaviour entries" %}
{% set pageTitle = applicationName + " â€“ " + chartPageTitle %}

{% block content %}
  {{ super() }}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {% include "../../partials/messages.njk" %}

      {% include "../../partials/formErrorSummary.njk" %}

      <h1 class="govuk-heading-xl">
        {{ chartPageTitle }}
      </h1>

    </div>
  </div>

  <div class="govuk-grid-row">
    <section class="govuk-grid-column-one-half govuk-!-margin-bottom-9">

      {% set chartId = "entries-by-location" %}
      {{ chartBehaviourEntries(
        title=BehaviourEntriesChartsContent[chartId].title,
        guidance=BehaviourEntriesChartsContent[chartId].guidance,
        labelColumn=BehaviourEntriesChartsContent[chartId].labelColumn,
        chartId=chartId,
        googleAnalyticsCategory=BehaviourEntriesChartsContent[chartId].googleAnalyticsCategory,
        prisonId=prisonId,
        form=forms[chartId],
        csrfToken=csrfToken,
        report=behaviourEntries
      ) }}

    </section>
    <section class="govuk-grid-column-one-half govuk-!-margin-bottom-9">

      {% set chartId = "prisoners-with-entries-by-location" %}
      {{ chartPrisonersWithBehaviourEntries(
        title=BehaviourEntriesChartsContent[chartId].title,
        guidance=BehaviourEntriesChartsContent[chartId].guidance,
        labelColumn=BehaviourEntriesChartsContent[chartId].labelColumn,
        chartId=chartId,
        googleAnalyticsCategory=BehaviourEntriesChartsContent[chartId].googleAnalyticsCategory,
        prisonId=prisonId,
        form=forms[chartId],
        csrfToken=csrfToken,
        report=prisonersWithEntries
      ) }}

    </section>
  </div>

  <div class="govuk-grid-row">
    <section class="govuk-grid-column-two-thirds govuk-!-margin-bottom-9">

      {% set chartId = "trends-entries" %}
      {{ chartTrends(
        title=BehaviourEntriesChartsContent[chartId].title,
        guidance=BehaviourEntriesChartsContent[chartId].guidance,
        chartId=chartId,
        googleAnalyticsCategory=BehaviourEntriesChartsContent[chartId].googleAnalyticsCategory,
        prisonId=prisonId,
        form=forms[chartId],
        csrfToken=csrfToken,
        report=trends
      ) }}

    </section>
  </div>

  {% include "../../partials/analytics/disclaimer.njk" %}
{% endblock %}
