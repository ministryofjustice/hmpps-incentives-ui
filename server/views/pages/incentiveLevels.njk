{% extends "../partials/layout.njk" %}

{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/tag/macro.njk" import govukTag %}

{% set pageTitle = applicationName + " â€“ Incentive levels" %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">

      {% include "../partials/messages.njk" %}

      <h1 class="govuk-heading-xl" data-qa="incentive-levels-list">
        Global incentive level admin
      </h1>

      {% set rows = [] %}

      {% for incentiveLevel in incentiveLevels %}
        {% set nameHtml %}
          {{ incentiveLevel.name }}
          {% if not incentiveLevel.active %}
            {{ govukTag({
              text: "Disabled",
              classes: "govuk-tag--grey"
            }) }}
          {% endif %}
        {% endset %}

        {% set rows = (rows.push({
          key: { text: "Level" },
          value: { html: nameHtml },
          actions: { items: [{
            href: "/incentive-levels/view/" + incentiveLevel.code,
            text: "View",
            visuallyHiddenText: "level details"
          }] }
        }), rows) %}
      {% endfor %}

      {{ govukSummaryList({
        rows: rows
      }) }}

      <p>
        {{ govukButton({
          text: "Add a new level",
          element: "a",
          href: "/incentive-levels/add"
        }) }}
      </p>

    </div>
  </div>
{% endblock %}
