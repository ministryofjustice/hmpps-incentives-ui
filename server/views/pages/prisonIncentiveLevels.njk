{% extends "../partials/layout.njk" %}

{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% set pageTitle = applicationName + " â€“ Incentive levels in " + prisonName %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {% include "../partials/messages.njk" %}

      <h1 class="govuk-heading-xl">Incentive levels in {{ prisonName }}</h1>

      {% set rows = [] %}

      {% for prisonIncentiveLevel in prisonIncentiveLevels %}
        {% set rows = (rows.push({
          key: { text: "Level" },
          value: { text: prisonIncentiveLevel.levelDescription },
          actions: {
            items: [
              {
                href: "/prison-incentive-levels/view/" + prisonIncentiveLevel.levelCode,
                text: "View",
                visuallyHiddenText: "level"
              }
            ]
          }
        }), rows) %}
      {% endfor %}

      {{ govukSummaryList({
        card: {
          title: {
            text: "Levels in use"
          }
        },
        rows: rows
      }) }}

      {% set rows = [] %}

      {% for inactiveIncentiveLevel in inactiveIncentiveLevels %}
        {% set rows = (rows.push({
          key: { text: "Level" },
          value: { text: inactiveIncentiveLevel.description },
          actions: {
            items: [
              {
                href: "/prison-incentive-levels/add/" + inactiveIncentiveLevel.code,
                text: "Add this level"
              }
            ]
          }
        }), rows) %}
      {% endfor %}

      {% if rows | length > 0 %}
        {{ govukSummaryList({
          card: {
            title: {
              text: "Available levels"
            }
          },
          rows: rows
        }) }}
      {% endif %}

    </div>
  </div>
{% endblock %}
