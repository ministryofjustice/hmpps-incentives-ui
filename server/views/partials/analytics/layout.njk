{% extends "../../partials/layout.njk" %}
{% from "moj/components/sub-navigation/macro.njk" import mojSubNavigation %}

{% block content %}
  {% if prisonGroup %}
    <div class="govuk-!-margin-bottom-4">
      <h1 class="govuk-heading-xl govuk-!-margin-top-0 govuk-!-margin-bottom-0">
        {{ prisonGroup }}
      </h1>
      <a href="/analytics/select-prison-group" class="govuk-link">Select another prison group</a>
    </div>

    {% set incentiveLevelsLink = "/analytics/" + prisonGroup + "/incentive-levels" %}
    {% set behaviourEntriesLink = "/analytics/" + prisonGroup + "/behaviour-entries" %}
    {% set protectedCharacteristicLink = "/analytics/" + prisonGroup + "/protected-characteristic?characteristic=age" %}
  {% else %}
    {% set incentiveLevelsLink = "/analytics/incentive-levels" %}
    {% set behaviourEntriesLink = "/analytics/behaviour-entries" %}
    {% set protectedCharacteristicLink = "/analytics/protected-characteristic?characteristic=age" %}
  {% endif %}

  {{ mojSubNavigation({
    label: "Incentive data navigation",
    classes: "govuk-!-display-none-print",
    items: [
      {
        text: "Incentive levels",
        href: incentiveLevelsLink,
        active: chartPageId == "incentive-levels",
        attributes: { "data-qa": "incentive-levels" }
      },
      {
        text: "Behaviour entries",
        href: behaviourEntriesLink,
        active: chartPageId == "behaviour-entries",
        attributes: { "data-qa": "behaviour-entries" }
      },
      {
        text: "Protected characteristics",
        href: protectedCharacteristicLink,
        active: chartPageId == "protected-characteristics",
        attributes: { "data-qa": "protected-characteristics" }
      }
   ]
  }) }}
{% endblock %}

{% block bodyEnd %}
  {{ super() }}
  <script src="/assets/analytics.js"></script>
{% endblock %}
