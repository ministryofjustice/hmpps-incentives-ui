{% extends "govuk/template.njk" %}

{% block head %}
  {% if googleAnalyticsId %}
    <!-- Google Analytics -->
    <script nonce="{{ cspNonce }}">
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', '{{ googleAnalyticsId }}', 'auto');
    {# GA custom dimension 1 is "Active Case Load" -#}
    {% if user.activeCaseload.id -%}
      ga('set', 'dimension1', '{{ user.activeCaseload.id }}');
    {%- endif %}
    ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
  {% endif %}

  <link href="/assets/stylesheets/application.css?{{ version }}" rel="stylesheet" />
  <script src="/assets/js/jquery.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
          integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
          crossorigin="anonymous"></script>
  <link href="https://code.jquery.com/ui/1.12.1/themes/ui-lightness/jquery-ui.css" rel="stylesheet" />

{% endblock %}

{% block pageTitle %}{{pageTitle | default(applicationName)}}{% endblock %}

{% block header %}
  {% include "./header.njk" %}
  {% include "./locationBar.njk" %}
  {% include "./feedbackBanner.njk" %}
  {% include "./breadcrumbs.njk" %}
{% endblock %}

{% block bodyStart %}
{% endblock %}

{% block bodyEnd %}
  {# Run JavaScript at end of the
  <body>, to avoid blocking the initial render. #}
  <script src="/assets/govuk/all.js"></script>
  <script src="/assets/moj/all.js"></script>
  <script src="/assets/govukFrontendInit.js"></script>
{% endblock %}
